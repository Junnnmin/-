<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>임신 혜택 찾기</title>
    
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>

      body {
        font-family: "Noto Sans KR", "Inter", sans-serif;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <header class="bg-white shadow-sm">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex-shrink-0 flex items-center">
            <h1 class="text-2xl font-bold text-blue-600">임신 혜택</h1>
          </div>
          <nav class="hidden sm:ml-6 sm:flex sm:space-x-8">
            <a
              href="index.html"
              class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"
            >
              혜택 찾기
            </a>
            <a
              href="#"
              class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"
            >
              소개
            </a>
            <a
              href="#"
              class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"
            >
              커뮤니티
            </a>
            <a
              href="profile.html"
              class="inline-flex items-center px-1 pt-1 border-b-2 border-blue-500 text-sm font-medium text-gray-900"
            >
            <!-- 이후 유저의 프로필 사진 입력에 따른 사진 출력을 구현할 것임. -->
            <img src = "/profile.jpg" width="35px"> 
            
            </a>
          </nav>
        </div>
      </div>
    </header>


    <body>
        <main class="container mx-auto p-4 sm:p-6 lg:p-8 flex-justify">
            <section id = "login-container" class="bg-white p-6 sm:p-8 rounded-lg shadow-lg max-w-2xl mx-auto">
                
                <!-- <div class="bg-white p-6 sm:p-8 rounded-lg shadow-lg max-w-2xl mx-auto">     -->
                  <h2 class="text-2xl font-bold text-gray-900 mb-2">
                    프로필
                  </h2>
                  <p class="text-gray-600 mb-6">
                    혜택을 찾아보기 위해 프로필을 입력해보세요.
                  </p>
                    <form id="info-form" class="space-y-4">
                        <div>
                          <label for="age" class="block text-sm font-medium text-gray-700"
                            >나이 (만)</label
                          >
                          <input
                            type="number"
                            id="age"
                            name="age"
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                            placeholder={user.age}
                            required
                          />
                        </div>
              
                        <div>
                          <label
                            for="income-bracket"
                            class="block text-sm font-medium text-gray-700"
                            >소득 분위</label
                          >
                          <select
                            id="income-bracket"
                            name="income-bracket"
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                            required
                          >
                            <option value="">선택하세요</option>
                            <option value="1">1분위</option>
                            <option value="2">2분위</option>
                            <option value="3">3분위</option>
                            <option value="4">4분위</option>
                            <option value="5">5분위</option>
                            <option value="6">6분위</option>
                            <option value="7">7분위</option>
                            <option value="8">8분위</option>
                            <option value="9">9분위</option>
                            <option value="10">10분위 (이상)</option>
                          </select>
                          <p class="mt-1 text-xs text-gray-500">
                            *소득분위가 낮을수록(1분위) 소득이 낮음을 의미합니다.
                          </p>
                        </div>
              
                        <div>
                          <label for="region" class="block text-sm font-medium text-gray-700"
                            >거주 지역</label
                          >
                          <select
                            id="region"
                            name="region"
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                            required
                          >
                            <option value="">선택하세요</option>
                            <option value="서울">서울</option>
                            <option value="경기">경기</option>
                            <option value="인천">인천</option>
                            <option value="부산">부산</option>
                            <option value="대구">대구</option>
                            <option value="기타">기타</option>
                          </select>
                        </div>
              
                        <div>
                          <label
                            for="children"
                            class="block text-sm font-medium text-gray-700"
                            >자녀 수 (출산 예정 포함)</label
                          >
                          <input
                            type="number"
                            id="children"
                            name="children"
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                            placeholder="예: 1"
                            required
                          />
                        </div>
              
                        <button
                          type="submit"
                          class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                        >
                          내 프로필 저장하기
                        </button>
                      </form>
                <!-- </div> -->
            </section>
            <section
        id="future-plans"
        class="mt-16 bg-white p-6 sm:p-8 rounded-lg shadow-lg max-w-5xl mx-auto"
      >
        <h2 class="text-2xl font-bold text-center text-gray-900 mb-8">
          앞으로의 계획
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- 정부 24 API 연동 -->
          <div class="p-5 border border-gray-200 rounded-lg bg-gray-50">
            <h3 class="text-lg font-semibold text-blue-700 mb-2">
              간편 신청 연동
            </h3>
            <p class="text-gray-600 text-sm">
              정부24 등 공공 API를 연동하여, 앱 내에서 혜택을 찾고 바로 신청까지
              완료할 수 있도록 구현할 계획입니다.
            </p>
          </div>
          <!-- 서류 업로드 자동 입력 -->
          <div class="p-5 border border-gray-200 rounded-lg bg-gray-50">
            <h3 class="text-lg font-semibold text-blue-700 mb-2">
              서류 업로드 자동입력
            </h3>
            <p class="text-gray-600 text-sm">
              기초 개인정보가 담긴 서류(등본 등)를 업로드하면, AI가 정보를
              분석하여 자동으로 입력해주는 기능을 모색하고 있습니다.
            </p>
          </div>
          <!-- 기업 복지 등록 -->
          <div class="p-5 border border-gray-200 rounded-lg bg-gray-50">
            <h3 class="text-lg font-semibold text-blue-700 mb-2">
              기업/민간 복지 등록
            </h3>
            <p class="text-gray-600 text-sm">
              기업에서 직접 자사의 복지 혜택을 등록하고 홍보할 수 있는 플랫폼을
              제공하여, 더 많은 혜택 정보를 제공하고자 합니다.
            </p>
          </div>
        </div>
      </section>
        </main>
    </body>
<script type = "module">
    import { user , setUser } from "./user_information.js";
    
    window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("age").value = user.age;
    document.getElementById("income-bracket").value = user.incomeBracket;
    document.getElementById("children").value = user.children;
    document.getElementById("region").value = user.region;
    });
    document.getElementById("info-form").addEventListener("submit", function (event) {
      event.preventDefault();

      const updatedUser = {
        ...user, // 기존값 복사
        age: parseInt(document.getElementById("age").value),
        incomeBracket: parseInt(document.getElementById("income-bracket").value),
        children: parseInt(document.getElementById("children").value),
        region: document.getElementById("region").value
      };
      
      console.log("기존 user:", user);
      setUser(updatedUser);
      console.log("업데이트된 user:", updatedUser);

      // 필요하다면 localStorage 저장도 가능
      // localStorage.setItem("user_info", JSON.stringify(updatedUser));
    });

</script>
</html>